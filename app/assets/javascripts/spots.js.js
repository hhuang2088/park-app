// Generated by CoffeeScript 1.7.1
var initialize;

initialize = function() {
  var startLocation;
  startLocation = function(position) {
    var latitude, longitude, map, mapOptions, marker;
    latitude = position.coords.latitude;
    longitude = position.coords.longitude;
    mapOptions = {
      center: new google.maps.LatLng(latitude, longitude),
      zoom: 17
    };
    map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);
    marker = new google.maps.Marker({
      map: map,
      draggable: true,
      position: new google.maps.LatLng(map.getCenter().k, map.getCenter().A)
    });
    return google.maps.event.addListener(map, 'center_changed', function() {
      console.log("" + (map.getCenter().k) + ", " + (map.getCenter().A));
      return marker.setPosition(map.getCenter());
    });
  };
  if (navigator.geolocation) {
    return navigator.geolocation.getCurrentPosition(startLocation);
  } else {
    return console.log("Browser doesn't support geolocate");
  }
};

google.maps.event.addDomListener(window, 'load', initialize);
